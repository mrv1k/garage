@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --logo-orange: #eb4a2e;
  --logo-black: #1d3131;
  --logo-beige: #fcf8ed;
}

body {
  @apply bg-logo-beige;
  /* fix layout shift on scrollbar */
  /* ! doens't work at about 960px */
  padding-left: calc(100vw - 100%);
}

@layer base {
  * {
    @apply text-logo-black;
  }

  a {
    text-decoration-line: underline;
    text-underline-position: under;
    text-underline-offset: 1px;
  }
  a.active {
    text-decoration-thickness: 0.15rem;
    text-decoration-color: var(--logo-orange);
  }

  main p {
    @apply mb-4;
  }

  main p:last-child {
    @apply mb-0;
  }

  .nav li {
    @apply pr-4 md:pr-0;
  }

  .grid-core {
    @apply md:col-span-7 col-span-full;
    @apply mb-8;
  }

  .grid-side {
    @apply md:col-start-8 md:col-end-12 col-span-full;
    @apply mb-8;
  }

  /* TODO: Remove */
  .grid-core h2 {
    @apply mb-4;
  }

  .col-aside {
    @apply col-span-full md:col-start-9;
  }

  .blog-list-date {
    @apply inline-block font-mono text-xs text-right;
    min-width: 15ch;
  }

  .autolink.before {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateX(-100%) translateY(-50%);
    padding-right: 4px;
  }

  .autolink svg {
    visibility: hidden;
  }

  h1:hover .autolink svg,
  h2:hover .autolink svg,
  h3:hover .autolink svg,
  h4:hover .autolink svg,
  h5:hover .autolink svg,
  h6:hover .autolink svg,
  h1 .autolink:focus svg,
  h2 .autolink:focus svg,
  h3 .autolink:focus svg,
  h4 .autolink:focus svg,
  h5 .autolink:focus svg,
  h6 .autolink:focus svg {
    visibility: visible;
  }

  /* prism copypaste + customization */

  /**
 * Gruvbox dark theme v1.0.0
 *
 * Adapted from a theme based on:
 * Vim Gruvbox dark Theme (https://github.com/morhetz/gruvbox)
 *
 * @author Azat S. <to@azat.io>
 * @version 1.0
 */

  /* revert global font color default overwriting theme */
  .token {
    color: #ebdbb2;
  }

  code[class*="language-"],
  pre[class*="language-"] {
    @apply font-mono;
    color: #ebdbb2; /* fg1 / fg */
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    line-height: 1.5;
    tab-size: 4;
    hyphens: none;
  }

  pre[class*="language-"]::selection,
  pre[class*="language-"] ::selection,
  code[class*="language-"]::selection,
  code[class*="language-"] ::selection {
    color: #fbf1c7; /* fg0 */
    background: #7c6f64; /* bg4 */
  }

  /* Code blocks */
  pre[class*="language-"] {
    padding: 1em;
    margin: 0.5em 0;
    overflow: auto;
  }

  :not(pre) > code[class*="language-"],
  pre[class*="language-"] {
    background: #1d2021; /* bg0_h */
  }

  /* Inline code */
  :not(pre) > code[class*="language-"] {
    padding: 0.1em;
    border-radius: 0.3em;
  }

  .token.comment,
  .token.prolog,
  .token.cdata {
    color: #a89984; /* fg4 / gray1 */
  }

  .token.delimiter,
  .token.boolean,
  .token.keyword,
  .token.selector,
  .token.important,
  .token.atrule {
    color: #fb4934; /* red2 */
  }

  .token.operator,
  .token.punctuation,
  .token.attr-name {
    color: #a89984; /* fg4 / gray1 */
  }

  .token.tag,
  .token.tag .punctuation,
  .token.doctype,
  .token.builtin {
    color: #fabd2f; /* yellow2 */
  }

  .token.entity,
  .token.number,
  .token.symbol {
    color: #d3869b; /* purple2 */
  }

  .token.property,
  .token.constant,
  .token.variable {
    color: #fb4934; /* red2 */
  }

  .token.string,
  .token.char {
    color: #b8bb26; /* green2 */
  }

  .token.attr-value,
  .token.attr-value .punctuation {
    color: #a89984; /* fg4 / gray1 */
  }

  .token.url {
    color: #b8bb26; /* green2 */
    text-decoration: underline;
  }

  .token.function {
    color: #fabd2f; /* yellow2 */
  }

  .token.regex {
    background: #b8bb26; /* green2 */
  }

  .token.bold {
    font-weight: bold;
  }

  .token.italic {
    font-style: italic;
  }

  .token.inserted {
    background: #a89984; /* fg4 / gray1 */
  }

  .token.deleted {
    background: #fb4934; /* red2 */
  }
}
